

<!DOCTYPE HTML>
<html>
<script>
	function captureMicrophone()
	{
			if(hasGetUserMedia())
			{
					window.AudioContext = window.AudioContext ||
					window.webkitAudioContext;

					var context = new AudioContext();

					
					var errorCallback = function()
				  {
				  	alert("error connecting to microphone");
				  };


					navigator.webkitGetUserMedia({audio: true}, function(stream) {
						var microphone = context.createMediaStreamSource(stream);
						var filter = context.createBiquadFilter();

				  // microphone -> filter -> destination.
				  
				  microphone.connect(filter);
				  filter.connect(context.destination);
					}, errorCallback);
			}
			else
			{
				alert("getUserMedia not supported");
			}
	}


	function hasGetUserMedia() {
		return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||
			navigator.mozGetUserMedia || navigator.msGetUserMedia);
	}


</script>
<body onload="captureMicrophone()">
</body>
</html>